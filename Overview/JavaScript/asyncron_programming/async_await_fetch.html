<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <script>

    // Promise de; then blokleri ne döndürürs döndürsün reject yada resolve,  hepsi birer promise dir.



    /// Promise de then ler aslinda icerisine 2 parameter alir. Birincisi onsuccess yani basarili ise return eder ikincisi de onerror.
    // bunun sebebi promise return etmesidir.


    // Birden cok catch kullanilabilir. mesela 2 then den sonra bu islemlerde bir hata olmasina karsin catch kullanabiliriz daha sonra then ile baska bir isleme devam edip ona sonradan catch baglayabiliriz.

    // ama bu tercih edilen bir yöntem degildir. tercih edecegimiz yöntem, tek bir then icinde hem hatayi hem resolve u yakalamak degildir. bunun yerine then ve catch ile ayri ayri yakalamaktir.

    /// Örnek:

    let promise = new Promise((resolve, reject) => {
        const maybe = Math.floor(Math.random() * 2);
        if (maybe) {
            resolve("Successful")
        }
        reject("Some error");
    });

    promise
    .then(
        (result) => {
            console.log(result);
        },          // result ve error virgül ile ayrilir
        (error) => {
            console.log(error);
        }
    );






    /////////  async in promise göre daha güzel olan bir yani:

    /// promise de bir then bloku gectikten sonra tekrar onun verisine ihtiyac duyarsak geriye dönme sansimiz yoktur. eger böyle birsey yapmak istersek global degisken atayarak yapabiliriz.
    // ancak async de bu durum cok kolaydir. istedigimiz veriye istedigimiz zaman ulasabiliriz.










    const myFunc = async () => {
        console.log("Hello world");
    };

    myFunc();
    console.log(typeof(myFunc()));
    console.log(typeof(myFunc));


    // async olarak tanimlanmis func imizi normal olarak da kullanma sansina sahibiz. yani normal bir func gibi de calisabilir. ama bize tabi ki await kullanma sansi verir.

    // type of da func yanina () koymazsak sonuc func döner. 
    // () koyarsak da object döner.





   
















    // ama cay örneginde bizim tüm then lerimiz birbiri ile iliskili oldugu icin biz tek catch kullandik.













    </script>














</body>
</html>